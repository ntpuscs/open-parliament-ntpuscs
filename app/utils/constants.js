// Á∂≤Á´ôÂü∫Êú¨Ë®≠ÂÆö
export const SITE_CONFIG = {
  name: 'ÂåóÂ§ß‰∏âÂ≥ΩË≠∞‰∫ãË≥áË®äÁ∂≤',
  fullName: 'ÂúãÁ´ãËá∫ÂåóÂ§ßÂ≠∏‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüË≠∞ÊúÉ',
  englishName: 'NTPU Student Congress (Sanxia)',
  domain: 'sxcongress.ntpusu.org',
  email: 'ntpuscs@gmail.com',
  githubRepo: 'https://github.com/ntpuscs/open-parliament-ntpuscs'
};

// Â§ñÈÉ®ÈÄ£ÁµêË®≠ÂÆö
export const EXTERNAL_LINKS = {
  mainWebsite: 'https://ntpusu.org/',
};

// Ë≠∞Ê°àÈ°ûÂûãÈÅ∏È†Ö
export const BILL_TYPES = [
  'Ê≥ïÂæãÊ°à',
  'È†êÁÆóÊ°à',
  'Ê±∫ÁÆóÊ°à',
  '‰∫∫‰∫ãÊ°à',
  'ÂÇôÊü•Ê°à',
  'ÊñΩÊîøÂ†±Âëä',
  'Â∞àÊ°àÂ†±Âëä',
  'Â§ñÈÉ®ÁµÑÁπîÊèêÊ°à„ÄÅÂä†ÂÖ•ËÅ≤ÊòéÊ°à'
];

// ÊèêÊ°àÊ©üÈóúÈÅ∏È†Ö
export const PROPOSER_ORGANS = [
  'Êú¨ÊúÉË≠∞Âì°',
  'Êú¨ÊúÉË≠∞Èï∑',
  'Êú¨ÊúÉÁßòÊõ∏Ëôï',
  'Á∏ΩÊúÉ ÁßòÊõ∏Ëôï',
  'Â≠∏ÁîüÊ≥ïÂ∫≠ Êõ∏Ë®òËôï',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ ÊúÉÈï∑ÂâØÊúÉÈï∑',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ ÁßòÊõ∏Ëôï',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ Ê¥ªÂãïÈÉ®',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ Â≠∏ÁîüÊ¨äÁõäÈÉ®',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ Ë≤°ÂãôÈÉ®',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ ÂÖ¨ÈóúÈÉ®',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ Êñ∞ËÅûÈÉ®',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ ÂúãÈöõ‰∫ãÂãôÈÉ®',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ Ë≥áË®äÈÉ®',
  '‰∏âÂ≥ΩÊ†°ÂçÄÂ≠∏ÁîüÊúÉ ÈÅ∏ËàâÂßîÂì°ÊúÉ'
];

// ÂàÜÈ†ÅË®≠ÂÆö
export const PAGINATION_CONFIG = {
  itemsPerPage: 10,
  maxVisiblePages: 5
};

// Ë≠∞Ê°àÊ¨Ñ‰ΩçË®≠ÂÆö
export const BILL_FIELDS = {
  id: 'Á∑®Ëôü',
  timestamp: 'ÊèêÊ°àÊôÇÈñì',
  proposerOrgan: 'ÊèêÊ°àÊ©üÈóú/Ë≠∞Âì°',
  proposerName: 'ÊèêÊ°àÊ©üÈóú‰∏ªÁÆ°/ÊèêÊ°àË≠∞Âì°ÂßìÂêç',
  contactName: 'ÊèêÊ°àËÅØÁµ°‰∫∫ÂßìÂêç',
  contactEmail: 'ÊèêÊ°àËÅØÁµ°‰∫∫ÂÖ¨ÂãôÈõªÂ≠êÈÉµ‰ª∂',
  type: 'ÊèêÊ°àÈ°ûÂûã',
  subject: 'Ê°àÁî±',
  description: 'Ë™™Êòé',
  method: 'Ëæ¶Ê≥ï',
  attachment1: 'ÈôÑ‰ª∂1',
  attachment2: 'ÈôÑ‰ª∂2',
  attachment3: 'ÈôÑ‰ª∂3',
  attachment4: 'ÈôÑ‰ª∂4',
  attachment5: 'ÈôÑ‰ª∂5',
  arrangeMeet: 'ÊéíÂÖ•ÊúÉË≠∞'
};

// Èö±ËóèÊ¨Ñ‰ΩçÔºàÂú®Ë©≥Á¥∞È†ÅÈù¢‰∏çÈ°ØÁ§∫Ôºâ
export const HIDDEN_FIELDS = [
  'contactEmail' // ÊèêÊ°àËÅØÁµ°‰∫∫ÂÖ¨ÂãôÈõªÂ≠êÈÉµ‰ª∂
];

// ÈôÑ‰ª∂Ê¨Ñ‰Ωç
export const ATTACHMENT_FIELDS = [
  'attachment1',
  'attachment2',
  'attachment3',
  'attachment4',
  'attachment5'
];

// ÁØ©ÈÅ∏Ê¨Ñ‰ΩçÔºàÈô§‰∫ÜÈôÑ‰ª∂‰ª•Â§ñÁöÑÊâÄÊúâÊ¨Ñ‰ΩçÔºâ
export const FILTER_FIELDS = Object.keys(BILL_FIELDS).filter(
  field => !ATTACHMENT_FIELDS.includes(field)
);

// ‰∏ªË¶ñË¶∫È°èËâ≤
export const THEME_COLORS = {
  primary: '#0F2D4B',
  primaryLight: '#1A3A5C',
  primaryDark: '#0A1F35',
  secondary: '#4A90E2',
  success: '#10B981',
  warning: '#F59E0B',
  error: '#EF4444',
  info: '#3B82F6'
};

// ÈüøÊáâÂºèÊñ∑Èªû
export const BREAKPOINTS = {
  sm: '640px',
  md: '768px',
  lg: '1024px',
  xl: '1280px',
  '2xl': '1536px'
};

// Â∞éËà™ÈÅ∏ÂñÆÈ†ÖÁõÆ
export const NAVIGATION_ITEMS = [
  {
    name: 'ÊèêÊ°àÁ≥ªÁµ±',
    href: EXTERNAL_LINKS.proposalSystem,
    external: true,
    newTab: true
  },
  {
    name: 'Ë≠∞Ê°àÊü•Ë©¢',
    href: '/bill',
    external: false,
    newTab: false
  },
  {
    name: 'ÂõûÂà∞ÊúÉÁ∂≤',
    href: EXTERNAL_LINKS.mainWebsite,
    external: true,
    newTab: false
  }
];

// È¶ñÈ†ÅÊúçÂãôÂçÄÂ°ä
export const HOME_SERVICES = [
  {
    id: 'bill-query',
    title: 'Ë≠∞Ê°àÊü•Ë©¢',
    description: 'Êü•Ë©¢Ê≠∑Â±ÜË≠∞Ê°àË≥áÊñô',
    icon: 'üîç',
    href: '/bill',
    external: false,
    newTab: false,
    color: 'green'
  },
];

// ÈåØË™§Ë®äÊÅØ
export const ERROR_MESSAGES = {
  networkError: 'Á∂≤Ë∑ØÈÄ£Á∑öÈåØË™§ÔºåË´ãÊ™¢Êü•ÊÇ®ÁöÑÁ∂≤Ë∑ØÈÄ£Á∑ö',
  serverError: '‰º∫ÊúçÂô®ÈåØË™§ÔºåË´ãÁ®çÂæåÂÜçË©¶',
  notFound: 'Êâæ‰∏çÂà∞Ë≥áÊñô',
  invalidData: 'Ë≥áÊñôÊ†ºÂºèÈåØË™§',
  unauthorized: 'Êú™ÊéàÊ¨äÂ≠òÂèñ',
  forbidden: 'Á¶ÅÊ≠¢Â≠òÂèñ',
  timeout: 'Ë´ãÊ±ÇÈÄæÊôÇ',
  unknown: 'Êú™Áü•ÈåØË™§'
};

// ÊàêÂäüË®äÊÅØ
export const SUCCESS_MESSAGES = {
  dataLoaded: 'Ë≥áÊñôËºâÂÖ•ÊàêÂäü',
  searchCompleted: 'ÊêúÂ∞ãÂÆåÊàê',
  filterApplied: 'ÁØ©ÈÅ∏Ê¢ù‰ª∂Â∑≤Â•óÁî®'
};

// ËºâÂÖ•ÁãÄÊÖãÊñáÂ≠ó
export const LOADING_MESSAGES = {
  bills: 'Ê≠£Âú®ËºâÂÖ•Ë≠∞Ê°àË≥áÊñô...',
  search: 'Ê≠£Âú®ÊêúÂ∞ã...',
  filter: 'Ê≠£Âú®ÁØ©ÈÅ∏...',
  page: 'Ê≠£Âú®ËºâÂÖ•È†ÅÈù¢...'
};

// Á©∫Ë≥áÊñôË®äÊÅØ
export const EMPTY_MESSAGES = {
  noBills: 'ÁõÆÂâçÊ≤íÊúâË≠∞Ê°àË≥áÊñô',
  noResults: 'Ê≤íÊúâÁ¨¶ÂêàÊ¢ù‰ª∂ÁöÑË≠∞Ê°à',
  noAttachments: 'ÁÑ°ÈôÑ‰ª∂'
};

// Ë≠∞Ê°àÁ∑®ËôüÊ≠£Ë¶èË°®ÈÅîÂºè
export const BILL_NUMBER_REGEX = /^(\d+)Â±ÜÂåóÂ§ßÂ≥ΩË≠∞Â≠óÁ¨¨(\d+)Ëôü$/;

// Ëß£ÊûêË≠∞Ê°àÁ∑®Ëôü
export const parseBillNumber = (billNumber) => {
  const match = billNumber.match(BILL_NUMBER_REGEX);
  if (match) {
    return {
      term: parseInt(match[1]),
      number: parseInt(match[2])
    };
  }
  return null;
};

// Ê†ºÂºèÂåñË≠∞Ê°àÁ∑®Ëôü
export const formatBillNumber = (term, number) => {
  return `${term}Â±ÜÂåóÂ§ßÂ≥ΩË≠∞Â≠óÁ¨¨${number}Ëôü`;
};

// ÊôÇÈñìÊ†ºÂºèÂåñ
export const formatDate = (dateString) => {
  const date = new Date(dateString);
  return date.toLocaleDateString('zh-TW', {
    year: 'numeric',
    month: '2-digit',
    day: '2-digit',
    hour: '2-digit',
    minute: '2-digit'
  });
};

// Ê™¢Êü•ÊòØÂê¶ÁÇ∫ÊúâÊïàÁöÑ Google Drive ÈÄ£Áµê
export const isValidGoogleDriveLink = (url) => {
  if (!url) return false;
  return url.includes('drive.google.com') || url.includes('docs.google.com');
};

// Â∞á Google Drive ÂàÜ‰∫´ÈÄ£ÁµêËΩâÊèõÁÇ∫Áõ¥Êé•Ê™¢Ë¶ñÈÄ£Áµê
export const convertGoogleDriveLink = (url) => {
  if (!url) return '';
  
  // ËôïÁêÜ /open?id= Ê†ºÂºè
  const openIdMatch = url.match(/\/open\?id=([a-zA-Z0-9_-]+)/);
  if (openIdMatch) {
    return `https://drive.google.com/file/d/${openIdMatch[1]}/view`;
  }
  
  // ËôïÁêÜ /file/d/ Ê†ºÂºè
  const fileIdMatch = url.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);
  if (fileIdMatch) {
    return `https://drive.google.com/file/d/${fileIdMatch[1]}/view`;
  }
  
  return url;
};

// È©óË≠âË°®ÂñÆÊ¨Ñ‰Ωç
export const validateField = (field, value) => {
  if (!value || value.trim() === '') {
    return `${BILL_FIELDS[field]} ‰∏çËÉΩÁÇ∫Á©∫`;
  }
  
  if (field === 'contactEmail') {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(value)) {
      return 'Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÈõªÂ≠êÈÉµ‰ª∂Âú∞ÂùÄ';
    }
  }
  
  return null;
};

// È†êË®≠ÂåØÂá∫
export default {
  SITE_CONFIG,
  EXTERNAL_LINKS,
  TEMPLATE_LINKS,
  BILL_TYPES,
  PROPOSER_ORGANS,
  PAGINATION_CONFIG,
  BILL_FIELDS,
  HIDDEN_FIELDS,
  ATTACHMENT_FIELDS,
  FILTER_FIELDS,
  THEME_COLORS,
  BREAKPOINTS,
  NAVIGATION_ITEMS,
  HOME_SERVICES,
  ERROR_MESSAGES,
  SUCCESS_MESSAGES,
  LOADING_MESSAGES,
  EMPTY_MESSAGES,
  BILL_NUMBER_REGEX,
  parseBillNumber,
  formatBillNumber,
  formatDate,
  isValidGoogleDriveLink,
  convertGoogleDriveLink,
  validateField
};